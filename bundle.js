!function(i){var s={};function a(t){if(s[t])return s[t].exports;var e=s[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}a.m=i,a.c=s,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(i,s,function(t){return e[t]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="",a(a.s=1)}([function(t){t.exports={targetMax:10,spawnDelayMax:1e3,spawnDelayMin:500,spawnDelayStep:100,liveTimeMin:1e3,liveTimeMax:5e3,liveTimeStep:200,levelTime:5e3,font:"serif",target:{strokeStyle:"orangered",fillStyle:"white",lineWidth:3,radiusMax:30,radiusMin:5}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),a=document.getElementById("game"),r=new s.Game(a),n=Date.now(),o=function(){var t=Date.now(),e=t-n;n=t,r.update(e),r.render(e),requestAnimationFrame(o)};requestAnimationFrame(o)},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=s(i(0)),n=i(3),a=(o.prototype.resize=function(t){var e=t.getBoundingClientRect();this.ctx.canvas.width=Math.round(e.width),this.ctx.canvas.height=Math.round(e.height)},o.prototype.update=function(t){if(this.timer+=t,this.spawnTimer+=t,this.timer>r.default.levelTime*this.level){this.level+=1;var e=this.targetLiveTime-r.default.liveTimeStep;this.targetLiveTime=Math.max(e,r.default.liveTimeMin);var i=this.spawnDelay-r.default.spawnDelayStep;this.spawnDelay=Math.max(i,r.default.spawnDelayMin)}for(var s in this.targets)if(this.targets.hasOwnProperty(s)){var a=this.targets[s];a.update(t),!this.mousePosition||this.ctx.isPointInPath(a.path,this.mousePosition.x,this.mousePosition.y)&&(this.hit+=1,delete this.targets[s]),a.isDead&&(this.miss+=1,delete this.targets[s])}this.targetsCount()<r.default.targetMax&&(this.spawnTimer>this.spawnDelay||this.targetsCount()<1)&&(this.lastId+=1,this.targets[this.lastId]=new n.Target(this.lastId,this.getRandomPosition(),this.targetLiveTime),this.spawnTimer=0),this.mousePosition=void 0},o.prototype.render=function(t){for(var e in this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.targets)this.targets.hasOwnProperty(e)&&this.targets[e].render(this.ctx,t),this.ctx.lineWidth=1,this.ctx.font=this.font,this.ctx.fillStyle="white",this.ctx.textAlign="center",this.ctx.fillText("Level: "+this.level+", Hit: "+this.hit+", Miss: "+this.miss,Math.round(this.ctx.canvas.width/2),20),this.ctx.fillText("TargetLiveTime: "+this.targetLiveTime+", TargetSpawnDelay: "+this.spawnDelay,Math.round(this.ctx.canvas.width/2),40)},o.prototype.targetsCount=function(){return Object.keys(this.targets).length},o.prototype.getRandomPosition=function(){var t=r.default.target.radiusMax,e=Math.floor(Math.random()*this.ctx.canvas.width),i=Math.floor(Math.random()*this.ctx.canvas.height);return{x:this.restrictPosition(e,t,this.ctx.canvas.width-t),y:this.restrictPosition(i+this.topOffset,t,this.ctx.canvas.height-t)}},o.prototype.restrictPosition=function(t,e,i){return t=Math.max(e,t),t=Math.min(i,t)},o);function o(t){var e=this;if(this.targets={},this.timer=0,this.spawnTimer=r.default.spawnDelayMax,this.spawnDelay=r.default.spawnDelayMax,this.targetLiveTime=r.default.liveTimeMax,this.lastId=0,this.level=1,this.hit=0,this.miss=0,this.font="18px "+r.default.font,this.topOffset=80,!t)throw new Error("Please provide correct container element");var i=document.createElement("canvas"),s=i.getContext("2d");if(!s)throw new Error("Can't create canvas 2d context");this.ctx=s,i.addEventListener("click",function(t){e.mousePosition={x:t.offsetX,y:t.offsetY}}),this.resize(t),window.addEventListener("resize",function(){e.resize(t)}),t.appendChild(i)}e.Game=a},function(t,e,i){"use strict";var s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=s(i(0)),r=(n.prototype.update=function(t){this.isDead||(this.liveTime-=t,this.radius-=this.shrinkSpeed*t,this.path=this.drawPath(this.pos,this.radius),this.liveTime<0&&this.setDead())},n.prototype.render=function(t,e){t.fillStyle=a.default.target.fillStyle,t.strokeStyle=a.default.target.strokeStyle,t.lineWidth=a.default.target.lineWidth,t.fill(this.path),t.stroke(this.path)},n.prototype.drawPath=function(t,e){var i=new Path2D;return i.arc(t.x,t.y,e,0,2*Math.PI,!1),i},n.prototype.setDead=function(){this.isDead=!0},n);function n(t,e,i){this.id=t,this.pos=e,this.liveTime=i,this.isDead=!1,this.radius=a.default.target.radiusMax,this.path=this.drawPath(e,this.radius),this.shrinkSpeed=(a.default.target.radiusMax-a.default.target.radiusMin)/i}e.Target=r}]);